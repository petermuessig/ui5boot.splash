sap.ui.define(["exports","ui5boot/splash/thirdparty/Boot"],function(t,e){"use strict";const s=new e.EventProvider;const n="languageChange";const i=t=>{s.attachEvent(n,t)};const r=typeof document==="undefined";const o=()=>{if(r){return e.DEFAULT_LANGUAGE}const t=navigator.languages;const s=()=>navigator.language;const n=t&&t[0]||s();return n||e.DEFAULT_LANGUAGE};let a;let c;e.attachConfigurationReset(()=>{a=undefined;c=undefined});const u=()=>{if(a===undefined){a=e.getLanguage()}return a};const g=()=>{if(c===undefined){c=e.getFetchDefaultLanguage()}return c};const h=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;class l{constructor(t){const s=h.exec(t.replace(/_/g,"-"));if(s===null){throw new Error(`The given language ${t} does not adhere to BCP-47.`)}this.sLocaleId=t;this.sLanguage=s[1]||e.DEFAULT_LANGUAGE;this.sScript=s[2]||"";this.sRegion=s[3]||"";this.sVariant=s[4]&&s[4].slice(1)||null;this.sExtension=s[5]&&s[5].slice(1)||null;this.sPrivateUse=s[6]||null;if(this.sLanguage){this.sLanguage=this.sLanguage.toLowerCase()}if(this.sScript){this.sScript=this.sScript.toLowerCase().replace(/^[a-z]/,t=>t.toUpperCase())}if(this.sRegion){this.sRegion=this.sRegion.toUpperCase()}}getLanguage(){return this.sLanguage}getScript(){return this.sScript}getRegion(){return this.sRegion}getVariant(){return this.sVariant}getVariantSubtags(){return this.sVariant?this.sVariant.split("-"):[]}getExtension(){return this.sExtension}getExtensionSubtags(){return this.sExtension?this.sExtension.slice(2).split("-"):[]}getPrivateUse(){return this.sPrivateUse}getPrivateUseSubtags(){return this.sPrivateUse?this.sPrivateUse.slice(2).split("-"):[]}hasPrivateUseSubtag(t){return this.getPrivateUseSubtags().indexOf(t)>=0}toString(){const t=[this.sLanguage];if(this.sScript){t.push(this.sScript)}if(this.sRegion){t.push(this.sRegion)}if(this.sVariant){t.push(this.sVariant)}if(this.sExtension){t.push(this.sExtension)}if(this.sPrivateUse){t.push(this.sPrivateUse)}return t.join("-")}}const f=new Map;const L=t=>{if(!f.has(t)){f.set(t,new l(t))}return f.get(t)};const p=t=>{try{if(t&&typeof t==="string"){return L(t)}}catch(t){}return new l(e.DEFAULT_LOCALE)};const A=t=>{const e=u();if(e){return L(e)}return p(o())};const d=new Map;const E=new Map;const U=new Map;const w=new Set;let S=false;const _={iw:"he",ji:"yi",in:"id"};const C=t=>{if(S){return}console.warn(`[LocaleData] Supported locale "${t}" not configured, import the "Assets.js" module from the webcomponents package you are using.`);S=true};const D=(t,s,n)=>{t=t&&_[t]||t;if(t==="no"){t="nb"}if(t==="zh"&&!s){if(n==="Hans"){s="CN"}else if(n==="Hant"){s="TW"}}if(t==="sh"||t==="sr"&&n==="Latn"){t="sr";s="Latn"}let i=`${t}_${s}`;if(e.SUPPORTED_LOCALES.includes(i)){if(E.has(i)){return i}C(i);return e.DEFAULT_LOCALE}i=t;if(e.SUPPORTED_LOCALES.includes(i)){if(E.has(i)){return i}C(i);return e.DEFAULT_LOCALE}return e.DEFAULT_LOCALE};const Z=(t,e)=>{d.set(t,e)};const m=t=>{if(!U.get(t)){const e=E.get(t);if(!e){throw new Error(`CLDR data for locale ${t} is not loaded!`)}U.set(t,e(t))}return U.get(t)};const T=async(t,s,n)=>{const i=D(t,s,n);const r=e.getFeature("OpenUI5Support");if(r){const t=r.getLocaleDataObject();if(t){Z(i,t);return}}try{const t=await m(i);Z(i,t)}catch(t){const e=t;if(!w.has(e.message)){w.add(e.message);console.error(e.message)}}};const $=(t,e)=>{E.set(t,e)};$("en",async()=>{const t=await fetch(`https://sdk.openui5.org/1.120.17/resources/sap/ui/core/cldr/en.json`);return t.json()});i(()=>{const t=A();return T(t.getLanguage(),t.getRegion(),t.getScript())});const O=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;const y=/(?:^|-)(saptrc|sappsd)(?:-|$)/i;const F={he:"iw",yi:"ji",nb:"no",sr:"sh"};const P=t=>{let s;if(!t){return e.DEFAULT_LOCALE}if(typeof t==="string"&&(s=O.exec(t.replace(/_/g,"-")))){let t=s[1].toLowerCase();let e=s[3]?s[3].toUpperCase():undefined;const n=s[2]?s[2].toLowerCase():undefined;const i=s[4]?s[4].slice(1):undefined;const r=s[6];t=F[t]||t;if(r&&(s=y.exec(r))||i&&(s=y.exec(i))){return`en_US_${s[1].toLowerCase()}`}if(t==="zh"&&!e){if(n==="hans"){e="CN"}else if(n==="hant"){e="TW"}}return t+(e?"_"+e+(i?"_"+i.replace("-","_"):""):"")}return e.DEFAULT_LOCALE};const v=t=>{if(!t){return e.DEFAULT_LOCALE}if(t==="zh_HK"){return"zh_TW"}const s=t.lastIndexOf("_");if(s>=0){return t.slice(0,s)}return t!==e.DEFAULT_LOCALE?e.DEFAULT_LOCALE:""};const x=new Set;const b=new Set;const R=new Map;const G=new Map;const V=new Map;const j=(t,e,s)=>{const n=`${t}/${e}`;V.set(n,s)};const M=(t,e)=>{R.set(t,e)};const N=t=>R.get(t);const I=(t,e)=>{const s=`${t}/${e}`;return V.has(s)};const k=(t,e)=>{const s=`${t}/${e}`;const n=V.get(s);if(n&&!G.get(s)){G.set(s,n(e))}return G.get(s)};const z=t=>{if(!x.has(t)){console.warn(`[${t}]: Message bundle assets are not configured. Falling back to English texts.`,` Add \`import "${t}/dist/Assets.js"\` in your bundle and make sure your build tool supports dynamic imports and JSON imports. See section "Assets" in the documentation for more information.`);x.add(t)}};const W=(t,s)=>s!==e.DEFAULT_LANGUAGE&&!I(t,s);const B=async t=>{const s=A().getLanguage();const n=A().getRegion();const i=A().getVariant();let r=s+(n?`-${n}`:``)+(i?`-${i}`:``);if(W(t,r)){r=P(r);while(W(t,r)){r=v(r)}}const o=g();if(r===e.DEFAULT_LANGUAGE&&!o){M(t,null);return}if(!I(t,r)){z(t);return}try{const e=await k(t,r);M(t,e)}catch(t){const e=t;if(!b.has(e.message)){b.add(e.message);console.error(e.message)}}};i(t=>{const e=[...R.keys()];return Promise.all(e.map(B))});t.fetchCldr=T;t.fetchI18nBundle=B;t.getI18nBundleData=N;t.getLocale=A;t.registerI18nLoader=j;t.registerLocaleDataLoader=$});
//# sourceMappingURL=i18n.js.map